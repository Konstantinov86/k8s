apiVersion: v1
kind: ConfigMap
metadata:
  name: definitions
  namespace: test
data:
  def.json: |
    {
       "users": [{
            "name": "control-limit",
            "password_hash": "qY90qy5J/j/QE88DZ13krmHbuT7WVFhVotQp3CAt3YBO7QOz",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "needs",
            "password_hash": "rs8SkhPiCW5yimojrEmahf1LFRyHm+ge0VjmOMeiNo5FfjLI",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "izB5GVMr2bXnSGfs3s_L2BGfghI3nBM5",
            "password_hash": "i0uEF9SnjbReQ8EUKygK76dHVKtxpX2EiiwFSWGFsP0ytmWv",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "administrator",
            "limits": {}
        }, {
            "name": "configurator",
            "password_hash": "PFs15QI3sYg7//bpKV34Bdd0UvVayK7WYV4EH5IOEXkmtbUG",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "blitz",
            "password_hash": "QavQkmRzRLMpwtV9Xn6JLLNwXt8GxTvzuichngznat84rQe4",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "subjects-funding-agreements",
            "password_hash": "IJEt4GwDNP5spvMlbShbJ7Z76y840DWqW0lAcU67bEVO9LlS",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
          }, {
            "name": "organizational-structure",
            "password_hash": "BNFXDVX0PKIOvXQgiPjrh8Vkb/Ba/G7uhMu9gRKBG83MHVDw",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
         
        
        }, {
            "name": "security",
            "password_hash": "i9cpzp/giSldI66CqHQgLe8IBvfhhaIAR4J1pyELXdxF1HBQ",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }
    ],
    "vhosts": [{
            "name": "/"
        }
    ],
    "permissions": [{
            "user": "izB5GVMr2bXnSGfs3s_L2BGfghI3nBM5",
            "vhost": "/",
            "configure": ".*",
            "write": ".*",
            "read": ".*"
        }, {
            "user": "needs",
            "vhost": "/",
            "configure": ".*",
            "write": ".*",
            "read": "^.*\.needs(\..*)?$"
        }, {
            "user": "configurator",
            "vhost": "/",
            "configure": ".*",
            "write": "^(indicators|measures|main-measures|programs|subprograms|project-types)$",
            "read": "^.*\.configurator(\..*)?$"
        }, {
            "user": "control-limit",
            "vhost": "/",
            "configure": ".*",
            "write": "measure-quotas",
            "read": "^.*\.control-limit(\..*)?$"
        }, {
            "user": "subjects-funding-agreements",
            "vhost": "/",
            "configure": ".*",
            "write": "",
            "read": "^.*\.subjects-funding-agreements(\..*)?$"  
        }, {
            "user": "blitz",
            "vhost": "/",
            "configure": "",
            "write": "^.*\.users(\..*)?$",
            "read": ""
        }, {
            "user": "organizational-structure",
            "vhost": "/",
            "configure": "",
            "write": "",
            "read": "^.*\.organizational-structure(\..*)?$"
        }, {
            "user": "security",
            "vhost": "/",
            "configure": "",
            "write": "",
            "read": "^.*\.security(\..*)?$"
        }
    ],
    "topic_permissions": [],
    "parameters": [],
    "policies": [],
    "queues": [{
            "name": "indicators.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "measures.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "measure-quotas.subjects-funding-agreements.change",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
             }
        }, {
            "name": "subprograms.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "programs.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "measures.needs.properties",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "main-measures.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "project-types.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
         }, {
            "name": "users.organizational-structure",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "users.security",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }
    ],
    "exchanges": [{
            "name": "indicators",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "programs",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "measures",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "main-measures",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "measure-quotas",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "subprograms",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "project-types",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "users",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }
    ],
    "bindings": [{
            "source": "indicators",
            "vhost": "/",
            "destination": "indicators.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "measures",
            "vhost": "/",
            "destination": "measures.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "measures",
            "vhost": "/",
            "destination": "measures.needs.properties",
            "destination_type": "queue",
            "routing_key": "properties",
            "arguments": {}
        }, {
            "source": "main-measures",
            "vhost": "/",
            "destination": "main-measures.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "measure-quotas",
            "vhost": "/",
            "destination": "measure-quotas.subjects-funding-agreements.change",
            "destination_type": "queue",
            "routing_key": "change",
            "arguments": {}
        }, {
            "source": "programs",
            "vhost": "/",
            "destination": "programs.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "project-types",
            "vhost": "/",
            "destination": "project-types.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "users",
            "vhost": "/",
            "destination": "users.organization-structure",
            "destination_type": "queue",
            "routing_key": "registration",
            "arguments": {}
        }, {
            "source": "subprograms",
            "vhost": "/",
            "destination": "subprograms.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "users",
            "vhost": "/",
            "destination": "users.security",
            "destination_type": "queue",
            "routing_key": "registration",
            "arguments": {}
        }
    ]
    }
