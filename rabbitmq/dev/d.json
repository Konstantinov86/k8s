apiVersion: v1
kind: ConfigMap
metadata:
  name: definitions
  namespace: dev
data:
  def.json: |
    {
       "users": [{
            "name": "control-limit",
            "password_hash": "qY90qy5J/j/QE88DZ13krmHbuT7WVFhVotQp3CAt3YBO7QOz",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "needs",
            "password_hash": "rs8SkhPiCW5yimojrEmahf1LFRyHm+ge0VjmOMeiNo5FfjLI",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "0DFeg9oMbmsMOt1XdYNEl2dUQG1JtX2_",
            "password_hash": "u1/RZvD0M1tqzwlOx4XjMXIr2KsSsMqAKZHH5fhTTpnmkNYz",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "administrator",
            "limits": {}
        }, {
            "name": "configurator",
            "password_hash": "PFs15QI3sYg7//bpKV34Bdd0UvVayK7WYV4EH5IOEXkmtbUG",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "kzn-integration",
            "password_hash": "6m0X/g5tYOMBWptbvVnQP6nu3v2VbZV0AeZcOv151SbLT6dA",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "blitz",
            "password_hash": "QavQkmRzRLMpwtV9Xn6JLLNwXt8GxTvzuichngznat84rQe4",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "subjects-funding-agreements",
            "password_hash": "IJEt4GwDNP5spvMlbShbJ7Z76y840DWqW0lAcU67bEVO9LlS",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "organizational-structure",
            "password_hash": "BNFXDVX0PKIOvXQgiPjrh8Vkb/Ba/G7uhMu9gRKBG83MHVDw",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
         
        }, {
            "name": "NoticeQueue",
            "password_hash": "1gUO95BNJMqQ+wkQsjlSdR9K/dRPomC9Ky94UlBVlfd81SIG",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "security",
            "password_hash": "i9cpzp/giSldI66CqHQgLe8IBvfhhaIAR4J1pyELXdxF1HBQ",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "registration-request",
            "password_hash": "k3q+rWZzccfF/ZYR1/0L60NsSAdz2E+0KtvGaH1/dw8f5d0m",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "nsi",
            "password_hash": "T/Z0KUmb1iV4llTUEB/HX4MMDA6EYQz00FPqLT0SakKEeFXf",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }, {
            "name": "nsi-transformer",
            "password_hash": "TBj2wDvGyOC9zNzUDI6zat+3Mc4A4FoOqu72v8nGA+joyGkG",
            "hashing_algorithm": "rabbit_password_hashing_sha256",
            "tags": "",
            "limits": {}
        }
    ],
    "vhosts": [{
            "name": "/"
        }
    ],
    "permissions": [{
            "user": "0DFeg9oMbmsMOt1XdYNEl2dUQG1JtX2_",
            "vhost": "/",
            "configure": ".*",
            "write": ".*",
            "read": ".*"
        }, {
            "user": "needs",
            "vhost": "/",
            "configure": ".*",
            "write": ".*",
            "read": "^.*\.needs(\..*)?$"
        }, {
            "user": "configurator",
            "vhost": "/",
            "configure": ".*",
            "write": "^(indicators|measures|main-measures|programs|subprograms|project-types)$",
            "read": "^.*\.configurator(\..*)?$"
        }, {
            "user": "control-limit",
            "vhost": "/",
            "configure": ".*",
            "write": "measure-quotas",
            "read": "^.*\.control-limit(\..*)?$"
        }, {
            "user": "kzn-integration",
            "vhost": "/",
            "configure": ".*",
            "write": "^(message-logs)$",
            "read": "^.*\.kzn-integration(\..*)?$"
        }, {
            "user": "subjects-funding-agreements",
            "vhost": "/",
            "configure": ".*",
            "write": "",
            "read": "^.*\.subjects-funding-agreements(\..*)?$"  
        }, {
            "user": "blitz",
            "vhost": "/",
            "configure": "",
            "write": "users",
            "read": ""
        }, {
            "user": "organizational-structure",
            "vhost": "/",
            "configure": "",
            "write": "",
            "read": "^.*\.organizational-structure(\..*)?$"
        }, {
            "user": "NoticeQueue",
            "vhost": "/",
            "configure": "",
            "write": "^.*informing(\..*)?$",
            "read": "^.*informing(\..*)?$"
        }, {
            "user": "security",
            "vhost": "/",
            "configure": "",
            "write": "",
            "read": "^.*\.security(\..*)?$"
        }, {
            "user": "registration-request",
            "vhost": "/",
            "configure": "",
            "write": "",
            "read": "^.*\.registration-request(\..*)?$"
        }, {
            "user": "nsi",
            "vhost": "/",
            "configure": ".*",
            "write": "^nsi.*",
            "read": "^nsi.*"
         }, {
            "user": "nsi-transformer",
            "vhost": "/",
            "configure": "",
            "write": "",
            "read": "^nsi.*"
        }
        
    ],
    "topic_permissions": [],
    "parameters": [],
    "policies": [],
    "queues": [{
            "name": "indicators.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "measures.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "measure-quotas.subjects-funding-agreements.change",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
             }
        }, {
            "name": "subprograms.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "programs.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "message-logs.kzn-integration",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "measures.needs.properties",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "main-measures.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "project-types.needs",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
         }, {
            "name": "users.organizational-structure",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "informing.NoticeQueue",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "users.security",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
                "x-queue-type": "classic"
            }
        }, {
            "name": "users.registration-request",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
            "x-queue-type": "classic"
            }
        }, {
            "name": "nsi-transformer.record.event",
            "vhost": "/",
            "durable": true,
            "auto_delete": false,
            "arguments": {
            "x-queue-type": "classic",
            "x-single-active-consumer": "true"
            }
     }       
    ],
    "exchanges": [{
            "name": "indicators",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "programs",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "informing",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "measures",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "main-measures",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "measure-quotas",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "message-logs",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "subprograms",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "project-types",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "users",
            "vhost": "/",
            "type": "direct",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }, {
            "name": "nsi.record.event",
            "vhost": "/",
            "type": "fanout",
            "durable": true,
            "auto_delete": false,
            "internal": false,
            "arguments": {}
        }
    ],
    "bindings": [{
            "source": "indicators",
            "vhost": "/",
            "destination": "indicators.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "measures",
            "vhost": "/",
            "destination": "measures.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "measures",
            "vhost": "/",
            "destination": "measures.needs.properties",
            "destination_type": "queue",
            "routing_key": "properties",
            "arguments": {}
        }, {
            "source": "main-measures",
            "vhost": "/",
            "destination": "main-measures.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "message-logs",
            "vhost": "/",
            "destination": "message-logs.kzn-integration",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "measure-quotas",
            "vhost": "/",
            "destination": "measure-quotas.subjects-funding-agreements.change",
            "destination_type": "queue",
            "routing_key": "change",
            "arguments": {}
        }, {
            "source": "programs",
            "vhost": "/",
            "destination": "programs.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "project-types",
            "vhost": "/",
            "destination": "project-types.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "users",
            "vhost": "/",
            "destination": "users.organizational-structure",
            "destination_type": "queue",
            "routing_key": "registration",
            "arguments": {}
        }, {
            "source": "subprograms",
            "vhost": "/",
            "destination": "subprograms.needs",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "informing",
            "vhost": "/",
            "destination": "informing.NoticeQueue",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }, {
            "source": "users",
            "vhost": "/",
            "destination": "users.security",
            "destination_type": "queue",
            "routing_key": "registration",
            "arguments": {}
        }, {
            "source": "users",
            "vhost": "/",
            "destination": "users.registration-request",
            "destination_type": "queue",
            "routing_key": "registration",
            "arguments": {}
        }, {
            "source": "nsi.record.event",
            "vhost": "/",
            "destination": "nsi-transformer.record.event",
            "destination_type": "queue",
            "routing_key": "#",
            "arguments": {}
        }
    ]
    }
